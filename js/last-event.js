// Generated by CoffeeScript 1.4.0
(function() {

  require(['underscore', 'handlebars', 'Shared', 'jquery'], function(_, Handlebars, Shared) {
    Handlebars.registerHelper('getEventDate', function(dateStr) {
      var date, frenchDate, str;
      date = Shared.createDate(dateStr);
      frenchDate = Shared.getFrenchDate(date);
      return str = frenchDate.day.slice(0, 1).toUpperCase() + frenchDate.day.slice(1) + ' ' + frenchDate.date + ' ' + frenchDate.month + ' Ã  ' + frenchDate.hours + ':' + frenchDate.minutes + '.';
    });
    return Shared.ApiMakeRequest('events/last.php', {}, function(result) {
      if (!(result.error != null)) {
        return require(['text!../templates/last-event.html'], function(lastEventTpl) {
          var template;
          template = Handlebars.compile(lastEventTpl);
          return $('.event').html(template({
            event: result
          }));
        });
      }
    });
  });

}).call(this);
